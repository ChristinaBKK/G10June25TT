<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>June 2025 Timetable</title>
    <style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 60px;
    background-color: #f5f7fa;
}
table {
    width: 100%;
    border-collapse: collapse;
    background-color: white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
    table-layout: fixed;
    border: 1px solid #ddd; /* Outer border */
}

#timetableTable th, #timetableTable td {
    padding: 8px 6px;
    text-align: center; /* Center text in all cells */
    vertical-align: middle;
    border: 1px solid #ddd; /* Cell borders */
    white-space: pre-wrap;
    overflow-wrap: break-word;
    font-size: 12px;
}

#timetableTable th {
    background-color: #3498db;
    color: white;
    position: sticky;
    top: 0;
    z-index: 100;
}
      
/* Set min and max width for the table */
#timetableTable {
    min-width: 800px;          /* Minimum width (adjust as needed) */
    max-width: 1300px;         /* Maximum width (adjust as needed) */
  	min-height: 400px;
    margin: 0 auto;            /* Center horizontally within container */
}

#timetableTable td {
  font-size: clamp(12px, 1.5vw, 14px);
}
      
#timetableTable tr:hover {
    background-color: #f5f5f5;
}

#timetableTable td:first-child {
    font-weight: 600;
    background-color: #ecf0f1;
    position: sticky;
    left: 0;
    z-index: 90;
}

/* Responsive tweaks */
@media (max-width: 768px) {
    #timetableTable th, #timetableTable td {
        padding: 8px 6px;
        font-size: 10px;
    }
}

    </style>
</head>
<body>

<h1>June 2025 G10 Timetable</h1>

<label for="pupilID">Enter Pupil ID:</label>
<input type="text" id="pupilID" placeholder="Enter Pupil ID">
<button onclick="generateTimetable()">Get Timetable</button>
<button id="downloadPDF" onclick="downloadPDF()">Download PDF</button>

<div id="timetableContainer"></div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<script>
    // Define periods with times
    const periods = [
        { id: 'P1', time: '8:20 – 9:00' },
        { id: 'P2', time: '9:05 – 9:45' },
        { id: 'P3', time: '10:00 – 10:40' },
        { id: 'P4', time: '10:45 – 11:25' },
        { id: 'P5', time: '11:30 – 12:10' },
        { id: 'P6', time: '1:00 – 1:40' },
        { id: 'P7', time: '1:45 – 2:25' },
        { id: 'P8', time: '2:35 – 3:15' },
        { id: 'P9', time: '3:20 – 4:00' }
    ];

    // Define days
    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];

    // Period order for rowspan calculation
    const periodOrder = { 'P1': 0, 'P2': 1, 'P3': 2, 'P4': 3, 'P5': 4, 'P6': 5, 'P7': 6, 'P8': 7, 'P9': 8 };

    // Master timetable with courses per period (sample data)
    const masterTimetable = [
        { day: 'Monday', start: 'P1', end: 'P1', courses: ['Further Maths' , 'Physics 2' , 'Economics 2' , 'Chemistry 2' , 'ChemistrySummit' , 'Business 1' , 'Art 1' , 'Art 2' , 'IB Philosophy' , 'IB Economics 1'], details: {'IB Philosophy': {teacher:'Matthew P.', room: 'B4041'}} },
        { day: 'Monday', start: 'P2', end: 'P3', courses: ['AP English' , 'English L&L 1' , 'English L&L 2' , 'English L&L 3' , 'PE 2' , 'PE 4' , 'PE 6' , 'PE 8'] },
        { day: 'Monday', start: 'P4', end: 'P5', courses: ['Physics 4' , 'Economics 4' , 'Chinese 1' , 'Chinese 2' , 'Geography' , 'IB Theatre' , 'IB Physics 2' , 'IB Chemistry'], details: {'Geography': {teacher:'Douglas Horton', room: 'B4039'}} },
        { day: 'Monday', start: 'P6', end: 'P6', courses: ['Physics 1' , 'PhysicsSummit' , 'Economics 1' , 'Chemistry 1' , 'Music' , 'IB Physics 1' , 'IB Biology' , 'IB Geography' , 'IB Economics 2'], details: {'IB Physics 1': {teacher:'Logan Tian', room: '3005'}} },
        { day: 'Monday', start: 'P7', end: 'P7', courses: ['Regular Maths 1' , 'Regular Maths 2' , 'Regular Maths 3' , 'Regular Maths 4' , 'Fast Maths 1' , 'Fast Maths 2' , 'IB Maths' , 'Advanced Maths'] },
        { day: 'Monday', start: 'P8', end: 'P8', courses: ['IB English' , 'AP English' , 'English L&L 1' , 'English L&L 2' , 'English L&L 3' , 'IPQ 5' , 'IPQ 6' , 'IPQ 7'] },
        { day: 'Monday', start: 'P9', end: 'P9', courses: ['ESL 1' , 'ESL 3' , 'IPQ 1' , 'IPQ 2' , 'IPQ 3' , 'IPQ 4' , 'IB TOK' , 'ESL 2'] },
        { day: 'Tuesday', start: 'P1', end: 'P1', courses: ['ESL 1' , 'ESL 3' , 'IPQ 1' , 'IPQ 2' , 'IPQ 3' , 'IPQ 4' , 'IB TOK' , 'ESL 2'] },
        { day: 'Tuesday', start: 'P2', end: 'P2', courses: ['Physics 3' , 'Economics 3' , 'EconomicsSummit' , 'Business 2' , 'Chemistry 3' , 'Biology' , 'Computer Sci' , 'IB Chinese'] },
        { day: 'Tuesday', start: 'P3', end: 'P4', courses: ['Regular Maths 1' , 'Regular Maths 2' , 'Regular Maths 3' , 'Regular Maths 4' , 'Fast Maths 1' , 'Fast Maths 2' , 'IB Maths' , 'Advanced Maths'] },
        { day: 'Tuesday', start: 'P5', end: 'P5', courses: ['IB English' , 'AP English' , 'English L&L 1' , 'English L&L 2' , 'English L&L 3' , 'IPQ 5' , 'IPQ 6' , 'IPQ 7'] },
        { day: 'Tuesday', start: 'P6', end: 'P6', courses: ['Physics 1' , 'PhysicsSummit' , 'Economics 1' , 'Chemistry 1' , 'Music' , 'IB Physics 1' , 'IB Biology' , 'IB Geography' , 'IB Economics 2'], details: {'Physics 1': {teacher:'Peter R.', room: 'B3002'},'IB Physics 1': {teacher:'Logan Tian', room: 'B3005'}, 'IB Geography': { teacher: 'Alex Oniango', room: 'B4041'}} },
        { day: 'Tuesday', start: 'P7', end: 'P7', courses: ['Physics 3' , 'Economics 3' , 'EconomicsSummit' , 'Business 2' , 'Chemistry 3' , 'Biology' , 'Computer Sci' , 'IB Chinese'] },
        { day: 'Tuesday', start: 'P8', end: 'P9', courses: ['Further Maths' , 'Physics 2' , 'Economics 2' , 'Chemistry 2' , 'ChemistrySummit' , 'Business 1' , 'Art 1' , 'Art 2' , 'IB Philosophy' , 'IB Economics 1'] },
        { day: 'Wednesday', start: 'P1', end: 'P2', courses: ['Physics 3' , 'Economics 3' , 'EconomicsSummit' , 'Business 2' , 'Chemistry 3' , 'Biology' , 'Computer Sci' , 'IB Chinese'] },
        { day: 'Wednesday', start: 'P3', end: 'P4', courses: ['Regular Maths 1' , 'Regular Maths 2' , 'Regular Maths 3' , 'Regular Maths 4' , 'Fast Maths 1' , 'Fast Maths 2' , 'IB Maths' , 'Advanced Maths'] },
        { day: 'Wednesday', start: 'P5', end: 'P5', courses: ['ESL 1' , 'ESL 3' , 'IPQ 1' , 'IPQ 2' , 'IPQ 3' , 'IPQ 4' , 'IB TOK' , 'ESL 2'] },
        { day: 'Wednesday', start: 'P6', end: 'P7', courses: ['Physics 4' , 'Economics 4' , 'Chinese 1' , 'Chinese 2' , 'Geography' , 'IB Theatre' , 'IB Physics 2' , 'IB Chemistry'] },
        { day: 'Wednesday', start: 'P8', end: 'P9', courses: ['Further Maths' , 'Physics 2' , 'Economics 2' , 'Chemistry 2' , 'ChemistrySummit' , 'Business 1' , 'Art 1' , 'Art 2' , 'IB Philosophy' , 'IB Economics 1'], details: {'IB Philosophy': {teacher:'Douglas Horton', room: 'B4039'}, 'ChemistrySummit': {teacher:'Judy Zhu', room: 'B4004'}} },
        { day: 'Thursday', start: 'P1', end: 'P2', courses: ['Physics 4' , 'Economics 4' , 'Chinese 1' , 'Chinese 2' , 'Geography' , 'IB Theatre' , 'IB Physics 2' , 'IB Chemistry'] },
        { day: 'Thursday', start: 'P3', end: 'P3', courses: ['University Counselling'] },
        { day: 'Thursday', start: 'P4', end: 'P4', courses: ['Business 2']},
        { day: 'Thursday', start: 'P5', end: 'P5', courses: ['Business 2'], details:{'Business 2': { teacher: 'Jennifer J.', room: 'B4040'}} },
        { day: 'Thursday', start: 'P4', end: 'P5', courses: ['Physics 3' , 'Economics 3' , 'EconomicsSummit' , 'Chemistry 3' , 'Biology' , 'Computer Sci' , 'IB Chinese'] },
        { day: 'Thursday', start: 'P6', end: 'P7', courses: ['IB English' , 'AP English' , 'English L&L 1' , 'English L&L 2' , 'English L&L 3' , 'ESL 1' , 'ESL 2' , 'ESL 3'] },
        { day: 'Thursday', start: 'P8', end: 'P9', courses: ['Physics 1' , 'PhysicsSummit' , 'Economics 1' , 'Chemistry 1' , 'Music' , 'IB Physics 1' , 'IB Biology' , 'IB Geography' , 'IB Economics 2'], details: {'Chemistry 1': {teacher:'Fiona Fu', room: 'B4002'}} },
        { day: 'Friday', start: 'P1', end: 'P1', courses: ['Assembly'] },
        { day: 'Friday', start: 'P2', end: 'P2', courses: ['House'] },
        { day: 'Friday', start: 'P3', end: 'P3', courses: ['Further Maths' , 'Physics 2' , 'Economics 2' , 'Chemistry 2' , 'ChemistrySummit' , 'Business 1' , 'Art 1' , 'Art 2' , 'IB Philosophy' , 'IB Economics 1'], details: {'IB Philosophy': {teacher:'Matthew P.', room: 'B4041'}, 'Physics 2': {teacher:'Peter R.', room: 'B3005'}, 'Chemistry 2': {teacher:'Selina Sun', room: 'B4004'}} },
        { day: 'Friday', start: 'P4', end: 'P5', courses: ['Physics 1' , 'PhysicsSummit' , 'Economics 1' , 'Chemistry 1' , 'Music' , 'IB Physics 1' , 'IB Biology' , 'IB Geography' , 'IB Economics 2'], details: {'IB Physics 1': {teacher:'Logan Tian', room: 'B4004'}, 'Chemistry 1': {teacher:'Fiona Fu', room: 'B4002'}} },
        { day: 'Friday', start: 'P6', end: 'P7', courses: ['IB English' , 'ESL 1' , 'ESL 2' , 'ESL 3' , 'PE 1' , 'PE 3' , 'PE 5' , 'PE 7'] },
        { day: 'Friday', start: 'P8', end: 'P8', courses: ['IB English' , 'AP English' , 'English L&L 1' , 'English L&L 2' , 'English L&L 3' , 'IPQ 5' , 'IPQ 6' , 'IPQ 7'] },
        { day: 'Friday', start: 'P9', end: 'P9', courses: ['Regular Maths 1' , 'Regular Maths 2' , 'Regular Maths 3' , 'Regular Maths 4' , 'Fast Maths 1' , 'Fast Maths 2' , 'IB Maths' , 'Advanced Maths'] },
    ];

const classDetails = {
'Further Maths': { teacher: 'Shahid Anwar', room: 'B3043'},
'Advanced Maths': { teacher: 'Roy Hou', room: 'B2039'},
'AP English': { teacher: 'Kurt Shelton', room: 'B2044'},
'Art 1': { teacher: 'Amanda Milne', room: 'B3027'},
'Art 2': { teacher: 'Luciana Liu', room: 'B4029'},
'Biology': { teacher: 'Ambily Biju', room: 'B3007'},
'Business 1': { teacher: 'Kieran Foxe', room: 'B4038'},
'Business 2': { teacher: 'Joyce Zhou', room: 'B4040'},
'Chemistry 1': { teacher: 'Fiona Fu', room: 'B4005'},
'Chemistry 2': { teacher: 'Selina Sun', room: 'B4005'},
'Chemistry 3': { teacher: 'Selina Sun', room: 'B4004'},
'ChemistrySummit': { teacher: 'Judy Zhu', room: 'B4002'},
'Chinese 1': { teacher: 'Jenny Li', room: 'B4009'},
'Chinese 2': { teacher: 'Ivy Zhu', room: 'B3009'},
'Computer Sci': { teacher: 'Bill Jiang', room: 'B1029'},
'Economics 1': { teacher: 'Christine Du', room: 'B4043'},
'Economics 2': { teacher: 'Christine Du', room: 'B4043'},
'Economics 3': { teacher: 'Zoe Wang', room: 'B4039'},
'Economics 4': { teacher: 'Zoe Wang', room: 'B4042'},
'EconomicsSummit': { teacher: 'Farhan Nzamy', room: 'B4043'},
'English L&L 1': { teacher: 'Lim Wan', room: 'B2041'},
'English L&L 2': { teacher: 'Helen Liu', room: 'B2040'},
'English L&L 3': { teacher: 'Jenna Wade Dunn', room: 'B2043'},
'ESL 1': { teacher: 'Helen Liu', room: 'B2040'},
'ESL 2': { teacher: 'Sally Guo', room: 'B2041'},
'ESL 3': { teacher: 'Sherry Yuan', room: 'B2042'},
'Fast Maths 1': { teacher: 'Sheryl Shane Canite', room: 'B3041'},
'Fast Maths 2': { teacher: 'Alice Mei', room: 'B3043'},
'Geography': { teacher: 'Douglas Horton', room: 'B1034'},
'IB Biology': { teacher: 'Lily Hung', room: 'B4012'},
'IB Chemistry': { teacher: 'Khurram Shezad', room: 'B4004'},
'IB Chinese': { teacher: 'Miya Yang', room: 'B4011'},
'IB Economics 1': { teacher: 'Chaminda Marasinghe', room: 'B4042'},
'IB Economics 2': { teacher: 'Kieran Foxe', room: 'B4038'},
'IB English': { teacher: 'Warwick Midlane', room: 'B2039'},
'IB Geography': { teacher: 'Alex Oniango', room: 'B4039'},
'IB Philosophy': { teacher: 'Matthew Peatman', room: 'B4039'},
'IB Physics 1': { teacher: 'Logan Tian', room: 'B4007'},
'IB Physics 2': { teacher: 'Logan Tian', room: 'B3005'},
'IB Maths': { teacher: 'Shahid Anwar', room: 'B3007'},
'IB Theatre': { teacher: 'Chalice Rakgoale', room: 'B2004'},
'IB TOK': { teacher: 'Matthew P. <br> Rob H. <br> Miya Yang', room: 'B1034'},
'IPQ 1': { teacher: 'Kelly Fang', room: 'B3009'},
'IPQ 2': { teacher: 'Jenny Shen', room: 'B3010'},
'IPQ 3': { teacher: 'Carol Fu', room: 'B3011'},
'IPQ 4': { teacher: 'Rob Hollingsworth', room: 'B2039'},
'IPQ 5': { teacher: 'Kelly Fang', room: 'B4009'},
'IPQ 6': { teacher: 'Jenny Shen', room: 'B2042'},
'IPQ 7': { teacher: 'Carol Fu', room: 'B4011'},
'Music': { teacher: 'Andy Clark', room: 'B2003'},
'PE 1': { teacher: 'Llyod Pique', room: 'Gym'},
'PE 2': { teacher: 'Abie Rakgoale', room: 'Gym'},
'PE 3': { teacher: 'Miko Qian', room: 'Gym'},
'PE 4': { teacher: 'Miko Qian', room: 'Gym'},
'PE 5': { teacher: 'Ed Chapman', room: 'Gym'},
'PE 6': { teacher: 'Llyod Pique', room: 'Gym'},
'PE 7': { teacher: 'Lourdes Caramol', room: 'Gym'},
'PE 8': { teacher: 'Abie Rakgoale', room: 'Gym'},
'Physics 1': { teacher: 'Peter R.', room: 'B3005'},
'Physics 2': { teacher: 'Peter R.', room: 'B3002'},
'Physics 3': { teacher: 'Evelyn Yang', room: 'B3002'},
'Physics 4': { teacher: 'Peter R.', room: 'B3002'},
'PhysicsSummit': { teacher: 'Xiong Chen', room: 'B3007'},
'Regular Maths 1': { teacher: 'Shaun Yang', room: 'B3044'},
'Regular Maths 2': { teacher: 'Celia Sun', room: 'B3012'},
'Regular Maths 3': { teacher: 'Eva Wang', room: 'B3040'},
'Regular Maths 4': { teacher: 'Mandy Chen', room: 'B3011'},
'Assembly': { teacher: 'N/A', room: 'Auditorium'},
'House': { teacher: 'Tutor', room: 'Homeroom'},
'University Counselling': { teacher: 'G10 Counsellors', room: 'W2004'}
};

    // Student data (enrollments mapped to original slot labels for filtering)
const studentData = {
'1154': {name: 'Lu, Mengyao 陆孟瑶 (Yome)',enrollments: ['Business 1', 'Chemistry 3', 'Geography', 'Fast Maths 1', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'2497': {name: 'Yuan, Zilin 袁梓琳 (Zilin)',enrollments: ['Chemistry 2', 'Business 2', 'Economics 4', 'Fast Maths 1', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'209': {name: 'Guo, Haoen 郭昊恩 (Ryan)',enrollments: ['Chemistry 2', 'Economics 3', 'Physics 4', 'Fast Maths 1', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'573': {name: 'Jiang, Mingzhen 姜铭震 (Leo)',enrollments: ['Chemistry 2', 'Biology', 'Economics 4', 'Fast Maths 1', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'2498': {name: 'Lu, Xuanyu 陆暄宇 (Tom)',enrollments: ['Economics 1', 'ChemistrySummit', 'Biology', 'Fast Maths 2', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'2200': {name: 'Wu, Chongbo 吴翀博 (Mason)',enrollments: ['Physics 2', 'Chemistry 3', 'Economics 4', 'Fast Maths 1', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'2899': {name: 'Yao, Yuda 姚瑜达 (Adam)',enrollments: ['Chemistry 2', 'Computer Sci', 'Physics 4', 'Fast Maths 1', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'3106': {name: 'Zhang, Chi 张驰 (Alexandra)',enrollments: ['Further Maths', 'Economics 3', 'Chinese 1', 'Fast Maths 1', 'IPQ 3', 'English L&L 2', 'PE 3','University Counselling','Assembly','House']},
'3166': {name: 'Dai, Jiajun 戴嘉均 (Peter)',enrollments: ['Physics 2', 'Chemistry 3', 'Economics 4', 'Fast Maths 1', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'273': {name: 'Xi, Xiangnan 奚向南 (Lucas)',enrollments: ['Chemistry 2', 'Biology', 'Physics 4', 'Fast Maths 1', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'3646': {name: 'Chen, Siyan 陈思言 (Chloe)',enrollments: ['Chemistry 2', 'Biology', 'Economics 4', 'Fast Maths 1', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'2579': {name: 'Zhang, Zikai 张子楷 (Carl)',enrollments: ['Further Maths', 'Chemistry 3', 'Physics 4', 'Fast Maths 1', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3868': {name: 'Zhao, Zehua 赵泽华 (Ricardo)',enrollments: ['PhysicsSummit', 'Further Maths', 'EconomicsSummit', 'Fast Maths 2', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'981': {name: 'Zou, Peicheng 邹沛澄 (Kate)',enrollments: ['Business 1', 'Chemistry 3', 'Economics 4', 'Fast Maths 1', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'2564': {name: 'Bao, Yiduo 包益朵 (Grace)',enrollments: ['Art 2', 'Business 2', 'Economics 4', 'Regular Maths 1', 'English L&L 1', 'IPQ 1', 'PE 1','University Counselling','Assembly','House']},
'1619': {name: 'Wang, Linhui 汪麟珲 (Angela)',enrollments: ['Physics 2', 'Biology', 'Chinese 1', 'Regular Maths 1', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'3522': {name: 'Nunns, Johnathan 刘浩然 (Johnathan)',enrollments: ['Further Maths', 'Computer Sci', 'Physics 4', 'Regular Maths 1', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'2594': {name: 'Xu, Xiaoge 许潇戈 (Sophia)',enrollments: ['Art 1', 'Business 2', 'Chinese 1', 'Regular Maths 1', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'2509': {name: 'Xue, Chengxi 薛丞希 (Richard)',enrollments: ['Art 1', 'Physics 3', 'Chinese 1', 'Regular Maths 1', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'3534': {name: 'Gu, Yuhan 古钰涵 (Felina)',enrollments: ['Art 1', 'Physics 3', 'Economics 4', 'Regular Maths 1', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'1791': {name: 'Liu, Shangrui 刘尚睿 (Shawn)',enrollments: ['Physics 2', 'Biology', 'Chinese 1', 'Regular Maths 1', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'2922': {name: 'Wang, Jiayi 王嘉毅 (Lester Bieber)',enrollments: ['Physics 2', 'Economics 3', 'Chinese 1', 'Regular Maths 1', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'1653': {name: 'Chen, Feiran 陈菲然 (Felice)',enrollments: ['Economics 2', 'Business 2', 'Chinese 1', 'Regular Maths 1', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'2947': {name: 'Gu, Kanjie 顾阚杰 (Jay)',enrollments: ['Physics 2', 'Business 2', 'Chinese 1', 'Regular Maths 1', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'3508': {name: 'Qi, Zixiang 漆子翔 (Bosen)',enrollments: ['Business 1', 'Physics 3', 'Chinese 1', 'Regular Maths 1', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'3618': {name: 'Fan, Zheming 范哲铭 (Jeremy)',enrollments: ['Art 2', 'Economics 3', 'Chinese 2', 'Regular Maths 1', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'3830': {name: 'Wang, Anni 王安妮 (Annie)',enrollments: ['Art 2', 'Business 2', 'Economics 4', 'Regular Maths 1', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'3805': {name: 'Wang, Jianuo 王嘉诺 (Clora)',enrollments: ['Business 1', 'Economics 1', 'Chinese 2', 'Regular Maths 3', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'4015': {name: 'Yan, ShengYu 阎晟瑜 (Lily)',enrollments: ['IB Physics 1', 'IB Philosophy', 'IB Theatre', 'IB Chinese', 'IB Maths', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3809': {name: 'Zhu, DanChen 朱丹宸 (Cathy)',enrollments: ['Art 2', 'Business 2', 'Physics 4', 'Regular Maths 1', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'3405': {name: 'Huang, Liming 黄理铭 (Will)',enrollments: ['Physics 2', 'Business 2', 'Economics 4', 'Regular Maths 1', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'1622': {name: 'Huang, Lingyun 黄凌云 (Cathy)',enrollments: ['Art 2', 'Physics 3', 'Economics 4', 'Regular Maths 1', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'3946': {name: 'Lu, Yanxin 陆言芯 (Sunny)',enrollments: ['Art 2', 'Economics 4', 'Biology', 'Regular Maths 1', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'3126': {name: 'Lu, Yao 陆尧 (Lucas)',enrollments: ['Physics 2', 'Economics 3', 'Chinese 2', 'Regular Maths 1', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'1587': {name: 'Song, Yingjian 宋英健 (Sunny)',enrollments: ['Economics 2', 'Physics 3', 'Chinese 2', 'Regular Maths 1', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'830': {name: 'Chen, Ziyi 陈姿溢 (Jack)',enrollments: ['Economics 1', 'Physics 2', 'Computer Sci', 'Fast Maths 2', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'317': {name: 'Wu, Chengzhen 吴承臻 (Felix)',enrollments: ['Economics 1', 'Physics 2', 'Computer Sci', 'Fast Maths 2', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'1591': {name: 'Chen, Xinyan 陈欣妍 (Candice)',enrollments: ['Economics 2', 'Chemistry 1', 'Regular Maths 3', 'IB Theatre', 'English L&L 1', 'IPQ 1', 'PE 1','University Counselling','Assembly','House']},
'1608': {name: 'Li, Jinni 李金妮 (Jenny)',enrollments: ['Economics 1', 'Art 1', 'Chinese 1', 'Regular Maths 3', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'225': {name: 'Chen, Ruilin 陈睿琳 (Reylin)',enrollments: ['Economics 1', 'Art 1', 'Physics 3', 'Regular Maths 4', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'2563': {name: 'Lu, Yiheng 陆以恒 (Raymond)',enrollments: ['Economics 1', 'Physics 3', 'Geography', 'Regular Maths 2', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'217': {name: 'Yu, Hao 余好 (Yumi)',enrollments: ['Economics 1', 'Business 1', 'Chinese 1', 'Regular Maths 3', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'3835': {name: 'Zhang, Yitao 章一韬 (Jerry)',enrollments: ['Economics 1', 'Physics 2', 'Business 2', 'Regular Maths 4', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'2610': {name: 'Geng, Xinyi 耿欣仪 (Margaret)',enrollments: ['Economics 1', 'Chemistry 2', 'Biology', 'Regular Maths 4', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'647': {name: 'Shen, Juchen 沈居宸 (Jason)',enrollments: ['Economics 1', 'Physics 3', 'Chinese 1', 'Regular Maths 2', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'3362': {name: 'Ding, Jiaqian 丁嘉倩 (Bettie)',enrollments: ['Economics 1', 'Art 1', 'Chinese 1', 'Regular Maths 3', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'3093': {name: 'Shi, Yuchen 史雨晨 (Zeena)',enrollments: ['Economics 1', 'Art 1', 'Chinese 2', 'Regular Maths 3', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'468': {name: 'Wang, Meicheng 王美程 (Linda)',enrollments: ['Economics 1', 'Art 2', 'Chinese 2', 'Regular Maths 3', 'IPQ 4', 'English L&L 3', 'PE 5','University Counselling','Assembly','House']},
'3516': {name: 'Zheng, Zehao 郑泽昊 (Leo)',enrollments: ['Economics 1', 'Physics 2', 'Chemistry 3', 'Regular Maths 4', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'3309': {name: 'Jiang, Gaofan 蒋高凡 (Elsa)',enrollments: ['Economics 1', 'Computer Sci', 'Physics 4', 'Regular Maths 2', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'3965': {name: 'Liu, Yufei 刘雨菲 (Yufei)',enrollments: ['Economics 1', 'Chemistry 2', 'Chinese 2', 'Regular Maths 3', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'3857': {name: 'wang, yijin 王艺瑾 (Jennifer)',enrollments: ['Economics 1', 'Physics 3', 'Chinese 2', 'Regular Maths 2', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'1337': {name: 'Zhu, Xutao 诸旭涛 (James)',enrollments: ['Economics 1', 'Physics 2', 'Chemistry 3', 'Regular Maths 4', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'2546': {name: 'Huang, Yucheng 黄昱诚 (Johny)',enrollments: ['Economics 1', 'Business 2', 'Chinese 2', 'Regular Maths 2', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'3808': {name: 'Jiang, Qinfang 蒋沁芳 (Emily)',enrollments: ['Economics 1', 'Art 2', 'Chinese 2', 'Regular Maths 3', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'1464': {name: 'Qian, Yunuo 钱雨诺 (Darren)',enrollments: ['Economics 1', 'Chemistry 3', 'Physics 4', 'Regular Maths 2', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'327': {name: 'Zhang, Qiwen 张荠文 (Angela)',enrollments: ['Economics 1', 'Art 2', 'Physics 3', 'Regular Maths 4', 'IPQ 4', 'English L&L 3', 'PE 5','University Counselling','Assembly','House']},
'3877': {name: 'Lyv, Xinwen 吕新闻 (News)',enrollments: ['Economics 1', 'Computer Sci', 'Physics 4', 'Regular Maths 2', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'3867': {name: 'You, Ya 尤雅 (Grace)',enrollments: ['Economics 1', 'Physics 2', 'Chemistry 3', 'Fast Maths 2', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'2854': {name: 'Zhu, Zhiyu 朱芝羽 (Carmen)',enrollments: ['Music', 'Art 1', 'Chinese 1', 'Regular Maths 3', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'2502': {name: 'Luan, Yue 栾越 (Arvin)',enrollments: ['Music', 'Economics 2', 'Computer Sci', 'Fast Maths 2', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'3591': {name: 'Fan, Mengyao 樊梦瑶 (Carol)',enrollments: ['Chinese 1', 'Art 2', 'Economics 3', 'Regular Maths 1', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'229': {name: 'Deng, Zixuan 邓子萱 (Tina)',enrollments: ['Music', 'IB Theatre', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'400': {name: 'Hou, Kaiyi 侯凯译 (Eason)',enrollments: ['Chemistry 1', 'Physics 2', 'Computer Sci', 'Fast Maths 2', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'1750': {name: 'Li, Chenrui 李辰睿 (Ray)',enrollments: ['Chemistry 1', 'Physics 2', 'Biology', 'Regular Maths 4', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3589': {name: 'Mok, Jie Ying 莫洁楹 (Clara )',enrollments: ['Chemistry 1', 'Biology', 'Physics 4', 'Regular Maths 2', 'IPQ 1', 'English L&L 2', 'PE 1','University Counselling','Assembly','House']},
'2296': {name: 'Ma, Shiyuan 马仕原 (Miles)',enrollments: ['Chemistry 1', 'Economics 3', 'Chinese 1', 'Regular Maths 2', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'3665': {name: 'Lin, Ruolan 林若岚 (Ava)',enrollments: ['Chemistry 1', 'Art 1', 'Physics 4', 'Regular Maths 3', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'1840': {name: 'Xia, Zitong 夏子童 (Alice)',enrollments: ['Chemistry 1', 'Economics 2', 'Physics 3', 'Regular Maths 4', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'2519': {name: 'Yang, Keyi 杨珂一 (Yvonne)',enrollments: ['Chemistry 1', 'Economics 2', 'Physics 3', 'Regular Maths 4','English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'677': {name: 'Tang, Jinglun 唐靖伦 (Jay)',enrollments: ['Chemistry 1', 'Economics 2', 'Physics 3', 'Regular Maths 4', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'3442': {name: 'Zong, zhaoyi 宗昭亦 (Helix)',enrollments: ['Chemistry 1', 'Further Maths', 'Biology', 'Fast Maths 2', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3543': {name: 'Chai, lulin 柴璐琳 (Francesca)',enrollments: ['Chemistry 1', 'Economics 3', 'Chinese 1', 'Regular Maths 2', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'2303': {name: 'Cui, Yuhao 崔钰浩 (Harry)',enrollments: ['Chemistry 1', 'Art 1', 'Biology', 'Regular Maths 4', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'2596': {name: 'Qian, Xingyou 钱星友 (Ray)',enrollments: ['Chemistry 1', 'Economics 2', 'Chinese 1', 'Regular Maths 3', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'1007': {name: 'Yin, Yiyi 殷一奕 (Iris)',enrollments: ['Chemistry 1', 'Physics 2', 'Chinese 2', 'Regular Maths 3', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'3168': {name: 'Wang, Yuanzhe 王元哲 (Jeremy)',enrollments: ['Chemistry 1', 'Physics 2', 'Computer Sci', 'Fast Maths 2', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'189': {name: 'Xie, Yue 解悦 (Alisa)',enrollments: ['Chemistry 1', 'Business 2', 'Economics 4', 'Regular Maths 2', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'384': {name: 'Xu, Fanxi 徐凡茜 (Fancy)',enrollments: ['Chemistry 1', 'Business 2', 'Physics 4', 'Regular Maths 2', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'3383': {name: 'Yin, Tianhao 印天浩 (Tianhao)',enrollments: ['Chemistry 1', 'Business 1', 'Chinese 2', 'Regular Maths 3', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'3871': {name: 'Jiang, Jiaxin 蒋佳芯 (Klino)',enrollments: ['Chemistry 1', 'Physics 3', 'Geography', 'Regular Maths 2', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'3887': {name: 'Jiang, Ruoling 蒋若龄 (Rowling)',enrollments: ['Chemistry 1', 'Physics 2', 'Economics 4', 'Regular Maths 3', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3886': {name: 'Liu, Hanze 刘瀚泽 (Arthur)',enrollments: ['Chemistry 1', 'Business 1', 'Physics 4', 'Regular Maths 3', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'3889': {name: 'Xie, Zixuan 谢子轩 (Oscar)',enrollments: ['Chemistry 3', 'Physics 2', 'Chinese 2', 'Regular Maths 1', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'3451': {name: 'Pan, Haonan 潘浩楠 (Haonan)',enrollments: ['Chemistry 1', 'Physics 3', 'Chinese 2', 'Regular Maths 2', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'2647': {name: 'Tang, Zihao 汤子豪 (Howard)',enrollments: ['Chemistry 1', 'Economics 2', 'Physics 3', 'Regular Maths 4', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'2351': {name: 'Luo, Yehaoyu 罗叶浩宇 (Daniel)',enrollments: ['ChemistrySummit', 'Physics 3', 'Geography', 'Fast Maths 1', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'2609': {name: 'Geng, Xintong 耿欣彤 (Cynthia)',enrollments: ['Physics 1', 'Art 1', 'Geography', 'Regular Maths 3', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'195': {name: 'Fan, Huiyan 范惠嫣 (Kristen)',enrollments: ['Physics 1', 'Economics 2', 'Business 2', 'Regular Maths 4', 'IPQ 1', 'English L&L 2', 'PE 1','University Counselling','Assembly','House']},
'1657': {name: 'Li, Jialang 李佳朗 (Richard)',enrollments: ['Physics 1', 'Biology', 'Geography', 'Regular Maths 2', 'IPQ 3', 'English L&L 2', 'PE 3','University Counselling','Assembly','House']},
'2836': {name: 'Meng, Chenyi 孟辰逸 (Charles)',enrollments: ['Physics 1', 'Economics 2', 'Computer Sci', 'Advanced Maths', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'3580': {name: 'Qin, Yi 秦翌 (Angela)',enrollments: ['Physics 1', 'Business 1', 'Geography', 'Regular Maths 3', 'IPQ 3', 'English L&L 2', 'PE 3','University Counselling','Assembly','House']},
'3574': {name: 'Huang, Yuqiao 黄羽乔 (Fiona)',enrollments: ['Physics 1', 'Art 1', 'Chinese 1', 'Regular Maths 3', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'2585': {name: 'Wu, Zeyu 吴泽宇 (William)',enrollments: ['Physics 1', 'Further Maths', 'Business 2', 'Fast Maths 2', 'English L&L 1', 'IPQ 1', 'PE 1','University Counselling','Assembly','House']},
'2562': {name: 'Yue, Cheng 岳铖 (Eric)',enrollments: ['Physics 1', 'Economics 2', 'Biology', 'Regular Maths 4', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'3278': {name: 'Dai, Lu 戴璐 (Jane)',enrollments: ['Physics 1', 'Chemistry 2', 'Biology', 'Fast Maths 2', 'IPQ 4', 'English L&L 3', 'PE 5','University Counselling','Assembly','House']},
'3284': {name: 'Ding, Yifan 丁一梵 (Vinson)',enrollments: ['Physics 1', 'Economics 2', 'Chemistry 3', 'Regular Maths 4', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'3500': {name: 'Wu, Jiaqi 吴佳淇 (Kiki)',enrollments: ['Physics 1', 'Art 1', 'Economics 4', 'Regular Maths 3', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'2489': {name: 'Wu, Zhehan 吴哲涵 (Allan)',enrollments: ['Physics 1', 'Further Maths', 'Chemistry 3', 'Fast Maths 2', 'IPQ 7', 'ESL 3', 'ESL 3', 'PE 6','University Counselling','Assembly','House']},
'1620': {name: 'Yin, Ziyou 殷梓又 (Jonathan)',enrollments: ['Physics 1', 'Chemistry 3', 'Economics 4', 'Regular Maths 2', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'2796': {name: 'Guo, Gangcheng 郭罡呈 (Aiden)',enrollments: ['Physics 1', 'Business 2', 'Chinese 1', 'Regular Maths 2', 'IPQ 4', 'English L&L 3', 'PE 5','University Counselling','Assembly','House']},
'3343': {name: 'Wang, Sihan 王思涵 (Kevin)',enrollments: ['Physics 1', 'Economics 3', 'Chinese 2', 'Regular Maths 2', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'3620': {name: 'Yao, Chengyun 姚程匀 (Kevin)',enrollments: ['Physics 1', 'Art 2', 'Chinese 2', 'Regular Maths 3', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'3485': {name: 'Guo, Yunyi 过芸熠 (Mojito)',enrollments: ['Physics 1', 'Chemistry 3', 'Chinese 2', 'Regular Maths 2', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'1747': {name: 'Xiang, Qiuyu 向秋宇 (Tiffany)',enrollments: ['Physics 1', 'Art 2', 'Chinese 2', 'Regular Maths 3', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'1617': {name: 'Xu, Jingbo 徐靖博 (Leo)',enrollments: ['Physics 1', 'Business 1', 'Economics 3', 'Regular Maths 4', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'2642': {name: 'Zhou, Qiyu 周琪宇 (Alex)',enrollments: ['Physics 1', 'Economics 3', 'Chinese 2', 'Regular Maths 2', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'3712': {name: 'Guo, TianZi 过天子 (King)',enrollments: ['Physics 1', 'Business 1', 'Chemistry 3', 'Regular Maths 4', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'3881': {name: 'Wu, Yiyang 吴依洋 (Wicky)',enrollments: ['Physics 1', 'Business 2', 'Economics 4', 'Regular Maths 2', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'3368': {name: 'Wang, Hongrui 王泓睿 (Albert)',enrollments: ['Physics 2', 'Economics 3', 'Chinese 2', 'Regular Maths 1', 'IPQ 6', 'ESL 2', 'ESL 2', 'PE 4','University Counselling','Assembly','House']},
'1860': {name: 'Li, Yuanyuan 李媛媛 (Florence)',enrollments: ['PhysicsSummit', 'Economics 2', 'Chemistry 3', 'Advanced Maths', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'527': {name: 'Li, Ziheng 李梓蘅 (Hannah)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'EconomicsSummit', 'Advanced Maths', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'491': {name: 'Liu, Yihan 刘奕含 (Michelle)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'Biology', 'Fast Maths 2', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'1001': {name: 'Li, Muyao 李牧瑶 (Lynn)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'EconomicsSummit', 'Advanced Maths', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'348': {name: 'Qu, Zitong 瞿子童 (William)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'Computer Sci', 'Advanced Maths', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'3938': {name: 'Wang, Juntong 王君同 (Kingsley)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'Biology', 'Fast Maths 2', 'English L&L 1', 'IPQ 2', 'English L&L 1', 'PE 3','University Counselling','Assembly','House']},
'301': {name: 'Xie, Yifan 谢逸凡 (Steven)',enrollments: ['PhysicsSummit', 'Chemistry 2', 'Computer Sci', 'Fast Maths 2', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'3243': {name: 'Xing, Weibo 邢惟博 (Webber)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'EconomicsSummit', 'Advanced Maths', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3647': {name: 'Xu, Yaqi 徐雅淇 (Ciya)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'EconomicsSummit', 'Advanced Maths', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3297': {name: 'Li, Yifeng 李沂风 (Aaron)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'Computer Sci', 'Advanced Maths', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'622': {name: 'Lee, Marty 李咏谦 (Marty)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'Biology', 'Advanced Maths', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3890': {name: 'Zhao, Yutong 赵妤彤 (Teresa)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'Biology', 'Fast Maths 2', 'English L&L 3', 'IPQ 4', 'English L&L 3', 'PE 7','University Counselling','Assembly','House']},
'1633': {name: 'Huang, Ziyi 黄子一 (Ziyi)',enrollments: ['Chemistry 1', 'Art 1', 'Biology', 'Advanced Maths', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3379': {name: 'Wang, Feihao 王飞皓 (Frank)',enrollments: ['PhysicsSummit', 'Chemistry 2', 'Computer Sci', 'Advanced Maths', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3527': {name: 'Yang, Zongliang 杨宗亮 (Leon)',enrollments: ['PhysicsSummit', 'Economics 2', 'Biology', 'Fast Maths 2', 'IPQ 5', 'ESL 1', 'ESL 1', 'PE 2','University Counselling','Assembly','House']},
'3503': {name: 'Zhao, Yuanchen 赵元晨 (Lucas)',enrollments: ['PhysicsSummit', 'Further Maths', 'Chemistry 3', 'Fast Maths 2', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3842': {name: 'BAI, DONGLIN 白东霖 (COLE)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'Biology', 'Fast Maths 2', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3851': {name: 'lu, yue 鲁越 (Andy)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'EconomicsSummit', 'Advanced Maths', 'AP English', 'IPQ 1', 'AP English', 'PE 1','University Counselling','Assembly','House']},
'3845': {name: 'Zhou, Sichen 周思忱 (Eastin)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'Biology', 'Fast Maths 2', 'AP English', 'IPQ 1', 'AP English', 'PE 3','University Counselling','Assembly','House']},
'3901': {name: 'Shen, Zizhen 沈子桢 (Jenson)',enrollments: ['PhysicsSummit', 'ChemistrySummit', 'Biology', 'Fast Maths 2', 'AP English', 'IPQ 2', 'PE 3','University Counselling','Assembly','House']},
'4062': {name: 'Hanyu, Shangnuo 韩余尚诺 (Sunno)',enrollments: ['Art 2', 'Business 2', 'Regular Maths 4', 'English L&L 2', 'IPQ 3', 'English L&L 2', 'PE 5','University Counselling','Assembly','House']},
'3710': {name: 'Ding, Wanjia 丁琬珈 (Jennifer)',enrollments: ['IB Physics 1', 'IB Philosophy', 'IB Chinese', 'IB Theatre', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3850': {name: 'hu, yutong 胡语桐 (Julie)',enrollments: ['IB Biology', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3869': {name: 'Wei, zixuan 魏子轩 (Weizen)',enrollments: ['IB Physics 1', 'IB Philosophy', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3838': {name: 'GU, RUIXI 顾睿羲 (Tesia)',enrollments: ['IB Physics 1', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3972': {name: 'Ling, Gerui 凌歌芮 (Andrea)',enrollments: ['IB Physics 1', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3280': {name: 'Lu, Zishi 陆子石 (David)',enrollments: ['IB Physics 1', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'587': {name: 'Zhang, Leer 张乐儿 (Jasmine)',enrollments: ['IB Economics 2', 'IB Philosophy', 'IB Chinese', 'IB Physics 2', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'2507': {name: 'Zhao, Xiaoshi 赵小石 (Stone)',enrollments: ['IB Physics 1', 'IB Economics 1', 'IB Chinese', 'IB Theatre', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3840': {name: 'Wang, Hongxi 王翃熙 (Felix)',enrollments: ['IB Physics 1', 'IB Philosophy', 'IB Chinese', 'IB Theatre', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3885': {name: 'Ju, Tianmai 鞠天迈 (Tim)',enrollments: ['IB Physics 1', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3841': {name: 'tang, zhongxian 唐仲贤 (Tony)',enrollments: ['IB Physics 1', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3673': {name: 'Ji, Jiayu 季珈羽 (Yoyo)',enrollments: ['IB Economics 2', 'IB Philosophy', 'IB Chinese', 'IB Physics 2', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'1961': {name: 'Wu, Boxuan 武博轩 (Bob)',enrollments: ['IB Physics 1', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3030': {name: 'Li, Renxiang 李仁芗 (Elliott)',enrollments: ['IB Biology', 'IB Philosophy', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'1603': {name: 'Deng, Ziyi 邓子毅 (Alpha)',enrollments: ['IB Biology', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'1083': {name: 'Yu, Youxin 俞佑欣 (Rebecca)',enrollments: ['IB Geography', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'529': {name: 'Pang, Lixuan 庞力瑄 (Mylo)',enrollments: ['IB Biology', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'1589': {name: 'Zhang, Siyuan 张思远 (Owen)',enrollments: ['IB Biology', 'IB Philosophy', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'220': {name: 'Yu, Chunxi 于淳熙 (Brian)',enrollments: ['IB Biology', 'IB Economics 1', 'IB Chinese', 'IB Physics 2', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'792': {name: 'Yang, Michelle 杨茗羽 (Michelle)',enrollments: ['IB Geography', 'IB Philosophy', 'IB Chinese', 'IB Physics 2', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'1009': {name: 'Yu, Chengjie 虞程杰 (Jay)',enrollments: ['IB Geography', 'IB Economics 1', 'IB Chinese', 'IB Physics 2', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'2488': {name: 'Zhou, Yuzhi 周榆智 (Mollar)',enrollments: ['IB Biology', 'IB Economics 1', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'1729': {name: 'Zhu, Chenxi 朱陈熙 (Tracy)',enrollments: ['IB Biology', 'IB Philosophy', 'IB Chinese', 'IB Chemistry', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'1935': {name: 'Zhang, Ruyi 章茹壹 (Louise)',enrollments: ['IB Biology', 'IB Philosophy', 'IB Chinese', 'IB Theatre', 'IB Maths', 'IB English', 'IB TOK', 'IB English', 'PE 8','University Counselling','Assembly','House']},
'3823': {name: 'YANG, YUNKAI 杨云开 (Witt)',enrollments: ['IB Philosophy', 'EconomicsSummit', 'Geography', 'Fast Maths 1', 'AP English', 'IPQ 4', 'AP English', 'PE 5','University Counselling','Assembly','House']}
};


function generateTimetable() {
    const pupilID = document.getElementById('pupilID').value.trim();
    const student = studentData[pupilID];
    const container = document.getElementById('timetableContainer');

    if (!student) {
        container.innerHTML = '<p>Student not found.</p>';
        document.getElementById('downloadPDF').style.display = 'none';
        return;
    }

    const table = document.createElement('table');
    table.id = 'timetableTable';

    // Header row - first empty cell + periods horizontally
    const headerRow = document.createElement('tr');
    const emptyTh = document.createElement('th');
    emptyTh.textContent = 'Day / Period';
    headerRow.appendChild(emptyTh);

    periods.forEach(period => {
        const th = document.createElement('th');
        th.textContent = `${period.id}\n${period.time}`;
        headerRow.appendChild(th);
    });
    table.appendChild(headerRow);

    // For each day (row)
    days.forEach(day => {
        const row = document.createElement('tr');

        // Day name cell at start of row, sticky left
        const dayCell = document.createElement('td');
        dayCell.textContent = day;
        row.appendChild(dayCell);

        let skipUntilPeriodIndex = -1; // for handling colSpan
        periods.forEach((period, periodIndex) => {
            if (periodIndex <= skipUntilPeriodIndex) return;

            // Find relevant slot matching day & covering current period
            const slots = masterTimetable.filter(slot => slot.day === day);
            let slotFound = null;
            for (const slot of slots) {
                const startIndex = periodOrder[slot.start];
                const endIndex = periodOrder[slot.end];
                if (periodIndex >= startIndex && periodIndex <= endIndex) {
                    slotFound = slot;
                    break;
                }
            }

            if (!slotFound) {
                const td = document.createElement('td');
                td.textContent = 'Free Period';
                row.appendChild(td);
                return;
            }

            if (period.id === slotFound.start) {
                const colspan = periodOrder[slotFound.end] - periodOrder[slotFound.start] + 1;
                const td = document.createElement('td');
                if (colspan > 1) {
                    td.colSpan = colspan;
                    skipUntilPeriodIndex = periodIndex + colspan - 1;
                }
                const content = getStudentContent(slotFound, student);
                td.innerHTML = content;
                row.appendChild(td);
            }
            // else skip cell because covered by colspan
        });

        table.appendChild(row);
    });

    container.innerHTML = `<h2>June 2025 Timetable for ${student.name} (ID: ${pupilID})</h2>`;
    container.appendChild(table);
    document.getElementById('downloadPDF').style.display = 'inline';
}

function getStudentContent(slot, student) {
    // Get student's enrolled courses as array
    const enrolledCourses = Array.isArray(student.enrollments)
        ? student.enrollments
        : Object.values(student.enrollments);

    // Find course student has in this slot's courses
    const matchedCourse = slot.courses.find(course => enrolledCourses.includes(course));

    if (!matchedCourse) return 'No Class';

    // Try to find details in slot.details
    if (slot.details && slot.details[matchedCourse]) {
        const details = slot.details[matchedCourse];
        return `${matchedCourse}<br>${details.teacher} <br> ${details.room}`;
    }

    // Fall back to global classDetails if available
    if (matchedCourse in classDetails) {
        const details = classDetails[matchedCourse];
        return `${matchedCourse}<br>${details.teacher} <br> ${details.room}</small>`;
    }

    return matchedCourse;
}


  function downloadPDF() {
    const container = document.getElementById('timetableContainer');

    // Clone the container for PDF export
    const clone = container.cloneNode(true);
    clone.style.position = 'absolute';
    clone.style.left = '-9999px';
    clone.style.width = 'auto';   // Let width be natural
    clone.style.maxWidth = '1200px';  // or a max width you want
    clone.style.padding = '10px';      // same spacing as original
    document.body.appendChild(clone);

    // Disable sticky positioning in clone temporarily to prevent rendering bugs
    clone.querySelectorAll('th, td').forEach(cell => {
        // Disable sticky by removing those styles
        cell.style.position = 'static';
        cell.style.left = 'auto';
        cell.style.zIndex = 'auto';
    });

    html2canvas(clone, { scale: 2 }).then(canvas => {
        document.body.removeChild(clone);

        const imgData = canvas.toDataURL('image/png');
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF({
            orientation: 'landscape',
            unit: 'pt',
            format: 'a4'
        });

        const margin = 50;
        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = pdf.internal.pageSize.getHeight();

        const contentWidth = pdfWidth - 2 * margin;
        const contentHeight = pdfHeight - 2 * margin;

        const imgWidth = canvas.width;
        const imgHeight = canvas.height;

        const widthRatio = contentWidth / imgWidth;
        const heightRatio = contentHeight / imgHeight;
        const ratio = Math.min(widthRatio, heightRatio);

        const scaledWidth = imgWidth * ratio;
        const scaledHeight = imgHeight * ratio;

        const x = margin + (contentWidth - scaledWidth) / 2;
        const y = margin;

        pdf.addImage(imgData, 'PNG', x, y, scaledWidth, scaledHeight);
        pdf.save(`June 2025 Timetable_${document.getElementById('pupilID').value}.pdf`);
    });
}



</script>



</body></html>
